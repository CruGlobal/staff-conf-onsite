# vim:ft=ruby:
panel "Payments (#{payments.size})" do
  table do
    thead do
      tr do
        th 'Payment Type'
        th 'Cost Type'
        th 'Description'
        th 'Price'
      end
    end

    tbody do
      payments.each do |pay|
        tr do
          td do
            link_to(payment_type_name(pay),
                    family_payment_path(pay, pay.family))
          end
          td { cost_type_name(pay) }
          td { pay.description }
          td { humanized_money_with_symbol(pay.price) if pay.price.present? }
        end
      end
    end
  end
end
